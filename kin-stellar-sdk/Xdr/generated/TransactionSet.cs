// Automatically generated by xdrgen
// DO NOT EDIT or your changes may be overwritten

namespace Kin.Stellar.Sdk.xdr
{
    // === xdr source ============================================================

    //  struct TransactionSet
    //  {
    //      Hash previousLedgerHash;
    //      TransactionEnvelope txs<>;
    //  };

    //  ===========================================================================
    public class TransactionSet
    {
        public Hash PreviousLedgerHash { get; set; }
        public TransactionEnvelope[] Txs { get; set; }

        public static void Encode(XdrDataOutputStream stream, TransactionSet encodedTransactionSet)
        {
            Hash.Encode(stream, encodedTransactionSet.PreviousLedgerHash);
            int txssize = encodedTransactionSet.Txs.Length;
            stream.WriteInt(txssize);

            for (int i = 0; i < txssize; i++)
            {
                TransactionEnvelope.Encode(stream, encodedTransactionSet.Txs[i]);
            }
        }

        public static TransactionSet Decode(XdrDataInputStream stream)
        {
            TransactionSet decodedTransactionSet = new TransactionSet();
            decodedTransactionSet.PreviousLedgerHash = Hash.Decode(stream);
            int txssize = stream.ReadInt();
            decodedTransactionSet.Txs = new TransactionEnvelope[txssize];

            for (int i = 0; i < txssize; i++)
            {
                decodedTransactionSet.Txs[i] = TransactionEnvelope.Decode(stream);
            }

            return decodedTransactionSet;
        }
    }
}